<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Table.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">deCOVID</a> &gt; <a href="index.source.html" class="el_package">comp3111.covid</a> &gt; <span class="el_source">Table.java</span></div><h1>Table.java</h1><pre class="source lang-java linenums">package comp3111.covid;

import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.scene.control.TableColumn;
import javafx.scene.control.TableView;
import javafx.scene.control.cell.PropertyValueFactory;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.HashMap;

/** Class to generate table for Task 1. */
<span class="nc" id="L13">public class Table {</span>
	/**
	 * Returns the data table about confirmed death
	 * @param countries the list of countries
	 * @param date the date for record checking 
	 * */
	public static TableView getDeathTable1(String[] countries, String date) {
<span class="fc" id="L20">		ObservableList&lt;TableProcessing&gt; data = FXCollections.observableArrayList();</span>
<span class="fc" id="L21">		TableView&lt;TableProcessing&gt; table = new TableView&lt;TableProcessing&gt;();</span>
<span class="fc" id="L22">		table.setPrefHeight(300.0);</span>
<span class="fc" id="L23">		table.setPrefWidth(920.0);</span>
<span class="fc" id="L24">		table.setEditable(true);</span>
<span class="fc" id="L25">		table.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY);</span>
		// Add heading 1
<span class="fc" id="L27">		var fmt = new SimpleDateFormat(&quot;MMMM dd, yyyy&quot;);</span>
<span class="fc" id="L28">		var sdf = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);</span>
		try {
<span class="fc" id="L30">			System.out.print(date);</span>
<span class="fc" id="L31">			 	TableColumn heading = new TableColumn(&quot;Number of Confirmed COVID-19 Deaths as of &quot;+fmt.format(sdf.parse(date)));</span>
<span class="fc" id="L32">		        heading.setPrefWidth(920.0);</span>
<span class="fc" id="L33">		        heading.setMinWidth(919.0);</span>
<span class="fc" id="L34">		        table.getColumns().addAll(heading);</span>
		        // Add Subheadings
<span class="fc" id="L36">		        TableColumn subheading1 = new TableColumn(&quot;Country&quot;);</span>
<span class="fc" id="L37">		        subheading1.setPrefWidth(299.0);</span>
<span class="fc" id="L38">		        subheading1.setMinWidth(298.0);</span>
<span class="fc" id="L39">		        subheading1.setCellValueFactory(new PropertyValueFactory&lt;TableProcessing, String&gt;(&quot;country&quot;));</span>
<span class="fc" id="L40">		        TableColumn subheading2 = new TableColumn(&quot;Total Deaths&quot;);</span>
<span class="fc" id="L41">		        subheading2.setPrefWidth(299.0);</span>
<span class="fc" id="L42">		        subheading2.setMinWidth(298.0);</span>
<span class="fc" id="L43">		        subheading2.setStyle(&quot;-fx-alignment: CENTER-RIGHT;&quot;);</span>
<span class="fc" id="L44">		        subheading2.setCellValueFactory(new PropertyValueFactory&lt;TableProcessing, String&gt;(&quot;deaths&quot;));</span>
<span class="fc" id="L45">		        TableColumn subheading3 = new TableColumn(&quot;Total Deaths (per 1M)&quot;);</span>
<span class="fc" id="L46">		        subheading3.setPrefWidth(299.0);</span>
<span class="fc" id="L47">		        subheading3.setMinWidth(298.0);</span>
<span class="fc" id="L48">		        subheading3.setStyle(&quot;-fx-alignment: CENTER-RIGHT;&quot;);</span>
<span class="fc" id="L49">		        subheading3.setCellValueFactory(new PropertyValueFactory&lt;TableProcessing, String&gt;(&quot;deathPerMil&quot;));</span>
<span class="fc" id="L50">		        heading.getColumns().add(subheading1);</span>
<span class="fc" id="L51">		        heading.getColumns().add(subheading2);</span>
<span class="fc" id="L52">		        heading.getColumns().add(subheading3);</span>
		        
<span class="fc" id="L54">		        HashMap&lt;String,Long&gt; hp = CasesAnalysis.getConfirmedDeaths(countries, date);</span>
<span class="fc" id="L55">		        HashMap&lt;String,Float&gt; hp2 = CasesAnalysis.getConfirmedDeathsPerMil(countries, date);</span>
		        
<span class="fc bfc" id="L57" title="All 2 branches covered.">		        for (String country:countries) {</span>
<span class="fc" id="L58">		        	String death =&quot;&quot;, deathMil=&quot;&quot;;</span>
<span class="pc bpc" id="L59" title="1 of 2 branches missed.">		        	if ((Long)hp.get(country) == -1) {</span>
<span class="nc" id="L60">		        		death = &quot;N/A&quot;;</span>
		        	} else {
<span class="fc" id="L62">		        		death = String.format(&quot;%,d&quot;, (Long)hp.get(country));</span>
		        	}
		        	
<span class="pc bpc" id="L65" title="1 of 2 branches missed.">		        	if ((Float)hp2.get(country) == -1) {</span>
<span class="nc" id="L66">		        		deathMil = &quot;N/A&quot;;</span>
		        	} else {
<span class="fc" id="L68">		        		deathMil = String.format(&quot;%,.2f&quot;, (Float)hp2.get(country));</span>
		        	}
		       
<span class="fc" id="L71">		        	data.add(new TableProcessing(country, death, deathMil));</span>
		        }
<span class="pc" id="L73">		} catch(Exception e) {}</span>

<span class="fc" id="L75">        table.setItems(data);</span>
        
<span class="fc" id="L77">		return table;</span>
	}
	
	/**
	 * Returns the data table about confirmed cases
	 * */
	public static TableView getConfirmedTable(String[] countries, Date date) {
		
<span class="fc" id="L85">		ObservableList&lt;TableProcessing2&gt; data2 = FXCollections.observableArrayList();</span>
<span class="fc" id="L86">		TableView table = new TableView();</span>
<span class="fc" id="L87">		table.setPrefHeight(300.0);</span>
<span class="fc" id="L88">		table.setPrefWidth(718.0);</span>
<span class="fc" id="L89">		table.setEditable(true);</span>
<span class="fc" id="L90">		SimpleDateFormat sdfTo = new SimpleDateFormat(&quot;MMMM dd yyyy&quot;);</span>
<span class="fc" id="L91">		TableColumn heading = new TableColumn(&quot;Number of Confirmed COVID-19 Cases as of &quot;+sdfTo.format(date));</span>
<span class="fc" id="L92">		heading.setPrefWidth(714.0);</span>
<span class="fc" id="L93">        heading.setMinWidth(714.0);</span>
<span class="fc" id="L94">		table.getColumns().addAll(heading);</span>
<span class="fc" id="L95">        TableColumn countryCol = new TableColumn(&quot;Country&quot;);</span>
<span class="fc" id="L96">        countryCol.setPrefWidth(238.0);</span>
<span class="fc" id="L97">        countryCol.setMinWidth(237.0);</span>
<span class="fc" id="L98">        TableColumn casesCol = new TableColumn(&quot;Total Cases&quot;);</span>
<span class="fc" id="L99">        casesCol.setPrefWidth(238.0);</span>
<span class="fc" id="L100">        casesCol.setMinWidth(237.0);</span>
<span class="fc" id="L101">        TableColumn casesPerMCol = new TableColumn(&quot;Total Cases (per 1M)&quot;);</span>
<span class="fc" id="L102">        casesPerMCol.setPrefWidth(238.0);</span>
<span class="fc" id="L103">        casesPerMCol.setMinWidth(237.0);</span>
<span class="fc" id="L104">        heading.getColumns().addAll(countryCol,casesCol,casesPerMCol);</span>
        
<span class="fc" id="L106">        HashMap&lt;String,Long&gt; casesMap = CasesAnalysis.getConfirmedCases(countries, date);</span>
<span class="fc" id="L107">        HashMap&lt;String,Float&gt; casesPerMMap = CasesAnalysis.getConfirmedCasesPerMil(countries, date);</span>
<span class="fc" id="L108">        countryCol.setCellValueFactory(new PropertyValueFactory&lt;TableProcessing2, String&gt;(&quot;country&quot;));</span>
<span class="fc" id="L109">        casesCol.setCellValueFactory(new PropertyValueFactory&lt;TableProcessing2, Long&gt;(&quot;confirmed&quot;));</span>
<span class="fc" id="L110">        casesPerMCol.setCellValueFactory(new PropertyValueFactory&lt;TableProcessing2, Float&gt;(&quot;confirmedPerMil&quot;));</span>
<span class="fc bfc" id="L111" title="All 2 branches covered.">        for(String country:countries) {</span>
<span class="fc" id="L112">        	long val1=(Long)casesMap.get(country);</span>
<span class="fc" id="L113">        	float val2=(Float)casesPerMMap.get(country);</span>
<span class="fc bfc" id="L114" title="All 4 branches covered.">        	data2.add(new TableProcessing2(country, val1==-1?&quot;N/A&quot;:String.format(&quot;%,d&quot;,val1), val2==-1?&quot;N/A&quot;:String.format(&quot;%,.2f&quot;,val2)));</span>
        }
<span class="fc" id="L116">        table.setItems(data2);</span>
        
<span class="fc" id="L118">        return table;</span>
	}
	/**
	 * Returns the data table about confirmed death
	 * */
	public static TableView getVaccinationTable(String[] countries, Date date) {
		
<span class="fc" id="L125">		ObservableList&lt;TableProcessing3&gt; data3 = FXCollections.observableArrayList();</span>
<span class="fc" id="L126">		TableView table = new TableView();</span>
<span class="fc" id="L127">		table.setPrefHeight(300.0);</span>
<span class="fc" id="L128">		table.setPrefWidth(718.0);</span>
<span class="fc" id="L129">		table.setEditable(true);</span>
<span class="fc" id="L130">		SimpleDateFormat sdfTo = new SimpleDateFormat(&quot;MMMM dd yyyy&quot;);</span>
<span class="fc" id="L131">		TableColumn heading = new TableColumn(&quot;Rate of Vaccination against COVID-19 as of &quot;+sdfTo.format(date));</span>
<span class="fc" id="L132">		heading.setPrefWidth(714.0);</span>
<span class="fc" id="L133">        heading.setMinWidth(714.0);</span>
<span class="fc" id="L134">		table.getColumns().addAll(heading);</span>
<span class="fc" id="L135">        TableColumn countryCol = new TableColumn(&quot;Country&quot;);</span>
<span class="fc" id="L136">        countryCol.setPrefWidth(238.0);</span>
<span class="fc" id="L137">        countryCol.setMinWidth(237.0);</span>
<span class="fc" id="L138">        TableColumn vacCol = new TableColumn(&quot;Fully Vaccinated&quot;);</span>
<span class="fc" id="L139">        vacCol.setPrefWidth(238.0);</span>
<span class="fc" id="L140">        vacCol.setMinWidth(237.0);</span>
<span class="fc" id="L141">        TableColumn vacrateCol = new TableColumn(&quot;Rate of Vaccination&quot;);</span>
<span class="fc" id="L142">        vacrateCol.setPrefWidth(238.0);</span>
<span class="fc" id="L143">        vacrateCol.setMinWidth(237.0);</span>
<span class="fc" id="L144">        heading.getColumns().addAll(countryCol,vacCol,vacrateCol);</span>
        
<span class="fc" id="L146">        HashMap&lt;String,Long&gt; vacMap = CasesAnalysis.getVaccination(countries, date);</span>
<span class="fc" id="L147">        HashMap&lt;String,String&gt; vacrateMap = CasesAnalysis.getVaccinationRate(countries, date);</span>
<span class="fc" id="L148">        countryCol.setCellValueFactory(new PropertyValueFactory&lt;TableProcessing3, String&gt;(&quot;country&quot;));</span>
<span class="fc" id="L149">        vacCol.setCellValueFactory(new PropertyValueFactory&lt;TableProcessing3, Long&gt;(&quot;vaccined&quot;));</span>
<span class="fc" id="L150">        vacrateCol.setCellValueFactory(new PropertyValueFactory&lt;TableProcessing3, String&gt;(&quot;vaccinedRate&quot;));</span>
<span class="fc bfc" id="L151" title="All 2 branches covered.">        for(String country:countries) {</span>
<span class="fc" id="L152">        	data3.add(new TableProcessing3(country, (Long)vacMap.get(country), (String)vacrateMap.get(country)));</span>
        }
<span class="fc" id="L154">        table.setItems(data3);</span>
        
<span class="fc" id="L156">        return table;</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>